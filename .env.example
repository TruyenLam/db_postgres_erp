# ================================================
# ERP TN Group - Environment Variables Example
# 
# HƯỚNG DẪN SỬ DỤNG:
# 1. Copy file này thành .env
# 2. Thay đổi tất cả passwords và sensitive values
# 3. KHÔNG commit file .env vào Git
# 
# Developer: Lam Van Truyen
# Email: lamvantruyen@gmail.com
# LinkedIn: https://www.linkedin.com/in/lamtruyen/
# Website: shareapiai.com
# ================================================

# ========================================
# DATABASE CONFIGURATION
# ========================================

# PostgreSQL Database Settings
POSTGRES_DB=erp_tngroup
POSTGRES_USER=erp_admin

# ⚠️  QUAN TRỌNG: Thay đổi password này!
# Yêu cầu: Ít nhất 12 ký tự, bao gồm chữ hoa, chữ thường, số và ký tự đặc biệt
POSTGRES_PASSWORD=YOUR_STRONG_DB_PASSWORD_HERE_2025!

# Password cho PGPASSWORD environment (giống POSTGRES_PASSWORD)
PGPASSWORD=YOUR_STRONG_DB_PASSWORD_HERE_2025!

# ========================================
# PGADMIN CONFIGURATION
# ========================================

# pgAdmin Web Interface Credentials
# ⚠️  Thay đổi email và password này!
PGADMIN_DEFAULT_EMAIL=your-email@domain.com
PGADMIN_DEFAULT_PASSWORD=YOUR_STRONG_ADMIN_PASSWORD_HERE_2025!

# ========================================
# REDIS CONFIGURATION
# ========================================

# Redis Authentication
# ⚠️  Thay đổi password này!
REDIS_PASSWORD=YOUR_REDIS_PASSWORD_HERE_2025!

# ========================================
# BACKUP & SECURITY CONFIGURATION
# ========================================

# Backup Encryption Key (dùng cho GPG encryption)
# ⚠️  Tạo key phức tạp và bảo mật tuyệt đối!
# Gợi ý: Sử dụng password generator với 32+ ký tự
BACKUP_ENCRYPTION_KEY=YOUR_VERY_LONG_SECURE_BACKUP_ENCRYPTION_KEY_2025_DO_NOT_SHARE_THIS

# ========================================
# NETWORK SECURITY CONFIGURATION
# ========================================

# Allowed IP addresses (CIDR notation)
# Mặc định: Private networks only
# Tùy chỉnh theo network của bạn
ALLOWED_IPS=127.0.0.1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# ========================================
# SSL/TLS CONFIGURATION
# ========================================

# SSL Certificate Paths (relative to project root)
SSL_CERT_PATH=./ssl/server.crt
SSL_KEY_PATH=./ssl/server.key

# SSL Configuration
SSL_PROTOCOLS=TLSv1.2,TLSv1.3
SSL_CIPHERS=ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256

# ========================================
# VECTOR DATABASE CONFIGURATION
# ========================================

# pgvector Extension Settings
ENABLE_VECTOR_DB=true

# Vector Index Settings
VECTOR_INDEX_LISTS=100
VECTOR_PROBES=10

# Vector Search Settings
DEFAULT_SIMILARITY_THRESHOLD=0.8
MAX_VECTOR_RESULTS=50

# AI/ML Integration
OPENAI_API_KEY=your_openai_api_key_here
EMBEDDING_MODEL=text-embedding-ada-002
EMBEDDING_DIMENSIONS=1536

# Vector Database Performance
VECTOR_WORK_MEM=256MB
VECTOR_MAINTENANCE_WORK_MEM=512MB

# ========================================
# DATABASE PERFORMANCE TUNING
# ========================================

# PostgreSQL Performance Settings
MAX_CONNECTIONS=100
SHARED_BUFFERS=256MB
EFFECTIVE_CACHE_SIZE=1GB
WORK_MEM=4MB
MAINTENANCE_WORK_MEM=64MB

# Connection Pool Settings
MAX_POOL_SIZE=25
MIN_POOL_SIZE=5
POOL_TIMEOUT=30

# ========================================
# BACKUP CONFIGURATION
# ========================================

# Backup Retention (in days)
BACKUP_KEEP_DAYS=30
BACKUP_KEEP_WEEKS=8
BACKUP_KEEP_MONTHS=6

# Backup Schedule (cron format)
# Default: Daily at 2:00 AM
BACKUP_SCHEDULE=0 2 * * *

# Backup Compression Level (1-9, 9 = best compression)
BACKUP_COMPRESSION_LEVEL=9

# ========================================
# MONITORING & LOGGING
# ========================================

# Log Levels: DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO

# Enable/Disable Features
ENABLE_QUERY_LOGGING=false
ENABLE_CONNECTION_LOGGING=true
ENABLE_BACKUP_NOTIFICATIONS=true

# ========================================
# TIMEZONE CONFIGURATION
# ========================================

# Server Timezone
TZ=Asia/Ho_Chi_Minh

# Database Timezone
DB_TIMEZONE=Asia/Ho_Chi_Minh

# ========================================
# DEVELOPMENT/PRODUCTION FLAGS
# ========================================

# Environment: development, staging, production
ENVIRONMENT=production

# Debug Mode (true/false)
DEBUG_MODE=false

# Enable Development Tools
ENABLE_PGADMIN_DEV_MODE=false

# ========================================
# EXAMPLE STRONG PASSWORDS
# ========================================

# Các ví dụ password mạnh (KHÔNG sử dụng trực tiếp):
# 
# Database: MyCompany@2025!SecureDb$Pass#123
# Admin:    Admin@2025!WebInterface$Secure#456  
# Redis:    Cache@2025!RedisMemory$Store#789
# Backup:   Backup@2025!EncryptionKey$VeryLong#Secret$String$DoNotShare
#
# ⚠️  LƯU Ý QUAN TRỌNG:
# - Không sử dụng passwords ví dụ trên
# - Tạo passwords unique cho từng môi trường
# - Sử dụng password manager để tạo và lưu trữ
# - Thay đổi passwords định kỳ
# - Không chia sẻ passwords qua email/chat

# ========================================
# SECURITY CHECKLIST
# ========================================

# ✅ Đã thay đổi tất cả default passwords
# ✅ Đã tạo SSL certificates (chạy generate_ssl.bat)
# ✅ Đã kiểm tra network security settings
# ✅ Đã backup encryption key an toàn
# ✅ Đã thêm .env vào .gitignore
# ✅ Đã test backup và restore process
# ✅ Đã cấu hình firewall rules
# ✅ Đã review security documentation

# ========================================
# QUICK START COMMANDS
# ========================================

# 1. Copy this file: cp .env.example .env
# 2. Edit passwords: nano .env
# 3. Generate SSL: .\generate_ssl.bat
# 4. Build: docker-compose build --no-cache
# 5. Start: docker-compose up -d
# 6. Security check: .\security_center.bat
