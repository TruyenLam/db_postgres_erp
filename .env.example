# ================================================
# ERP TN Group - Environment Variables Example
# 
# H∆Ø·ªöNG D·∫™N S·ª¨ D·ª§NG:
# 1. Copy file n√†y th√†nh .env
# 2. Thay ƒë·ªïi t·∫•t c·∫£ passwords v√† sensitive values
# 3. KH√îNG commit file .env v√†o Git
# 
# Developer: Lam Van Truyen
# Email: lamvantruyen@gmail.com
# LinkedIn: https://www.linkedin.com/in/lamtruyen/
# Website: shareapiai.com
# ================================================

# ========================================
# DATABASE CONFIGURATION
# ========================================

# PostgreSQL Database Settings
POSTGRES_DB=erp_tngroup
POSTGRES_USER=erp_admin

# ‚ö†Ô∏è  QUAN TR·ªåNG: Thay ƒë·ªïi password n√†y!
# Y√™u c·∫ßu: √çt nh·∫•t 12 k√Ω t·ª±, bao g·ªìm ch·ªØ hoa, ch·ªØ th∆∞·ªùng, s·ªë v√† k√Ω t·ª± ƒë·∫∑c bi·ªát
POSTGRES_PASSWORD=YOUR_STRONG_DB_PASSWORD_HERE_2025!

# Password cho PGPASSWORD environment (gi·ªëng POSTGRES_PASSWORD)
PGPASSWORD=YOUR_STRONG_DB_PASSWORD_HERE_2025!

# ========================================
# PGADMIN CONFIGURATION
# ========================================

# pgAdmin Web Interface Credentials
# ‚ö†Ô∏è  Thay ƒë·ªïi email v√† password n√†y!
PGADMIN_DEFAULT_EMAIL=your-email@domain.com
PGADMIN_DEFAULT_PASSWORD=YOUR_STRONG_ADMIN_PASSWORD_HERE_2025!

# ========================================
# REDIS CONFIGURATION
# ========================================

# Redis Authentication
# ‚ö†Ô∏è  Thay ƒë·ªïi password n√†y!
REDIS_PASSWORD=YOUR_REDIS_PASSWORD_HERE_2025!

# ========================================
# BACKUP & SECURITY CONFIGURATION
# ========================================

# Backup Encryption Key (d√πng cho GPG encryption)
# ‚ö†Ô∏è  T·∫°o key ph·ª©c t·∫°p v√† b·∫£o m·∫≠t tuy·ªát ƒë·ªëi!
# G·ª£i √Ω: S·ª≠ d·ª•ng password generator v·ªõi 32+ k√Ω t·ª±
BACKUP_ENCRYPTION_KEY=YOUR_VERY_LONG_SECURE_BACKUP_ENCRYPTION_KEY_2025_DO_NOT_SHARE_THIS

# ========================================
# NETWORK SECURITY CONFIGURATION
# ========================================

# Allowed IP addresses (CIDR notation)
# M·∫∑c ƒë·ªãnh: Private networks only
# T√πy ch·ªânh theo network c·ªßa b·∫°n
ALLOWED_IPS=127.0.0.1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# ========================================
# SSL/TLS CONFIGURATION
# ========================================

# SSL Certificate Paths (relative to project root)
SSL_CERT_PATH=./ssl/server.crt
SSL_KEY_PATH=./ssl/server.key

# SSL Configuration
SSL_PROTOCOLS=TLSv1.2,TLSv1.3
SSL_CIPHERS=ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256

# ========================================
# VECTOR DATABASE CONFIGURATION
# ========================================

# pgvector Extension Settings
ENABLE_VECTOR_DB=true

# Vector Index Settings (for IVFFlat)
VECTOR_INDEX_LISTS=100
VECTOR_PROBES=10

# Vector Search Settings
DEFAULT_SIMILARITY_THRESHOLD=0.8
MAX_VECTOR_RESULTS=50
VECTOR_MAX_DIMENSIONS=2000

# AI/ML Integration Settings
OPENAI_API_KEY=your_openai_api_key_here
EMBEDDING_MODEL=text-embedding-ada-002
EMBEDDING_DIMENSIONS=1536

# Alternative AI Providers
COHERE_API_KEY=your_cohere_api_key_here
HUGGINGFACE_API_KEY=your_huggingface_api_key_here

# Vector Database Performance Tuning
VECTOR_WORK_MEM=256MB
VECTOR_MAINTENANCE_WORK_MEM=512MB
VECTOR_SHARED_BUFFERS=512MB

# Vector Index Types: ivfflat, hnsw
VECTOR_INDEX_TYPE=ivfflat

# Vector Distance Metrics: L2, inner_product, cosine
VECTOR_DISTANCE_METRIC=cosine

# ========================================
# DATABASE PERFORMANCE TUNING
# ========================================

# PostgreSQL Performance Settings
MAX_CONNECTIONS=100
SHARED_BUFFERS=256MB
EFFECTIVE_CACHE_SIZE=1GB
WORK_MEM=4MB
MAINTENANCE_WORK_MEM=64MB

# Connection Pool Settings
MAX_POOL_SIZE=25
MIN_POOL_SIZE=5
POOL_TIMEOUT=30

# ========================================
# BACKUP CONFIGURATION
# ========================================

# Backup Retention (in days)
BACKUP_KEEP_DAYS=30
BACKUP_KEEP_WEEKS=8
BACKUP_KEEP_MONTHS=6

# Backup Schedule (cron format)
# Default: Daily at 2:00 AM
BACKUP_SCHEDULE=0 2 * * *

# Backup Compression Level (1-9, 9 = best compression)
BACKUP_COMPRESSION_LEVEL=9

# ========================================
# MONITORING & LOGGING
# ========================================

# Log Levels: DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO

# Enable/Disable Features
ENABLE_QUERY_LOGGING=false
ENABLE_CONNECTION_LOGGING=true
ENABLE_BACKUP_NOTIFICATIONS=true

# ========================================
# TIMEZONE CONFIGURATION
# ========================================

# Server Timezone
TZ=Asia/Ho_Chi_Minh

# Database Timezone
DB_TIMEZONE=Asia/Ho_Chi_Minh

# ========================================
# DEVELOPMENT/PRODUCTION FLAGS
# ========================================

# Environment: development, staging, production
ENVIRONMENT=production

# Debug Mode (true/false)
DEBUG_MODE=false

# Enable Development Tools
ENABLE_PGADMIN_DEV_MODE=false

# ========================================
# EXAMPLE STRONG PASSWORDS
# ========================================

# C√°c v√≠ d·ª• password m·∫°nh (KH√îNG s·ª≠ d·ª•ng tr·ª±c ti·∫øp):
# 
# Database: MyCompany@2025!SecureDb$Pass#123
# Admin:    Admin@2025!WebInterface$Secure#456  
# Redis:    Cache@2025!RedisMemory$Store#789
# Backup:   Backup@2025!EncryptionKey$VeryLong#Secret$String$DoNotShare
#
# ‚ö†Ô∏è  L∆ØU √ù QUAN TR·ªåNG:
# - Kh√¥ng s·ª≠ d·ª•ng passwords v√≠ d·ª• tr√™n
# - T·∫°o passwords unique cho t·ª´ng m√¥i tr∆∞·ªùng
# - S·ª≠ d·ª•ng password manager ƒë·ªÉ t·∫°o v√† l∆∞u tr·ªØ
# - Thay ƒë·ªïi passwords ƒë·ªãnh k·ª≥
# - Kh√¥ng chia s·∫ª passwords qua email/chat

# ========================================
# SECURITY CHECKLIST
# ========================================

# ‚úÖ ƒê√£ thay ƒë·ªïi t·∫•t c·∫£ default passwords
# ‚úÖ ƒê√£ t·∫°o SSL certificates (ch·∫°y generate_ssl.bat)
# ‚úÖ ƒê√£ ki·ªÉm tra network security settings
# ‚úÖ ƒê√£ backup encryption key an to√†n
# ‚úÖ ƒê√£ th√™m .env v√†o .gitignore
# ‚úÖ ƒê√£ test backup v√† restore process
# ‚úÖ ƒê√£ c·∫•u h√¨nh firewall rules
# ‚úÖ ƒê√£ review security documentation

# ========================================
# QUICK START COMMANDS
# ========================================

# 1. Copy this file: cp .env.example .env
# 2. Edit passwords: nano .env
# 3. Generate SSL: .\generate_ssl.bat
# 4. Build: docker-compose build --no-cache
# 5. Start: docker-compose up -d
# 6. Security check: .\security_center.bat


# üîß S·ª≠a th√¥ng tin k·∫øt n·ªëi trong pgAdmin:
# Trong dialog Register - Server, h√£y s·ª≠ d·ª•ng th√¥ng tin n√†y:

# Tab General:
# Name: ERP TN Group Database
# Tab Connection:
# Host name/address: postgres_vector_secure (kh√¥ng ph·∫£i 127.0.0.1)
# Port: 5432
# Maintenance database:  postgres (m·∫∑t ƒë·ªãnh)
# Username: erp_admin
# Password: TnGrosssfdup@2024!Secure#db$2025